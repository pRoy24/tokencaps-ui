if(!window.AWSC){window.AWSC={}}window.AWSC.stdeltaStartTime=new Date().getTime();if(!window.AWSC){var AWSC={}}AWSC.Clog=(function(){var C=100;var i=2*1000*1000;var S=(1000*1000*1000).toString();var ar=[],s=function(){},E=[],B=[],z=[],U="",X,A,aa=false,e=null;var ah=false,v=false,az=false;var av=0;var aq=-1;var r={};r[aq]="Exceeded CLOG max message size of "+i+" bytes";var D=0,af=0,aj=0;var ao=function al(aE,aF,aC){var aD=aC();if(aE.key!==undefined){aD=aC("&k",aF,"=",aE.key);if(aE.value!==undefined){aD+=aC("&m",aF,"=",aE.value)}if(aE.detail!==undefined){aD+=aC("&d",aF,"=",aE.detail)}if(aE.pageId){aD+=aC("&p",aF,"=",aE.pageId)}if(aE.unit){aD+=aC("&u",aF,"=",aE.unit)}if(aE.logLevel){aD+=aC("&l",aF,"=",aE.logLevel)}if(aE.category){aD+=aC("&c",aF,"=",aE.category)}}return aD},w=function ab(aD,aE){var aC=ao(aD,aE,function(){var aF=0;for(var aG=0;aG<arguments.length;++aG){aF+=arguments[aG].toString().length}return aF});return aC},aw=function t(aD,aE){var aC=ao(aD,aE,function(){var aF="";for(var aG=0;aG<arguments.length;++aG){aF+=arguments[aG].toString()}return aF});return aC},p=function Y(){return i},o=function ak(aP,aE,aN,aK,aJ,aD,aI){var aL={},aC=L();if(typeof aP==="object"){aL=aP}else{aL.key=aP;if(aE!==undefined){aL.value=aE}if(aN!==undefined){aL.detail=aN}if(aJ){aL.unit=aJ}if(aD){aL.metricType=aD}if(aI){aL.logLevel=aI}}if(aL.pageId){aK=aL.pageId}if(!aK){aK=A}aL.pageId=V(aK,aL.metricType);var aG=w(aL,S);if(aG>p()){var aF={key:"clogMessageSizeLimitExceeded",value:aG,detail:"Message of size "+aG+" was given, but the limit is "+p(),pageId:aL.pageId};var aM=w(aF,S);if(aM>p()){var aO=aM-p();var aH=aF.pageId.length-aO;aF.pageId=aF.pageId.substring(0,aH)}o(aF.key,aF.value,aF.detail,aF.pageId);return{status:aq,message:r[aq]}}switch(aL.logLevel){case"INFO":o("INFO",1,undefined,aL.pageId);if(!ah){ah=true;o("custInfo",1,undefined,aL.pageId)}break;case"WARN":o("WARN",1,undefined,aL.pageId);if(!v){v=true;o("custWarn",1,undefined,aL.pageId)}break;case"FATAL":o("FATAL",1,undefined,aL.pageId);if(!az){az=true;o("custFatal",1,undefined,aL.pageId)}}if(aL.key){if(aC&&aC.key===aL.key&&aC.detail===aL.detail&&aC.pageId===aL.pageId&&aC.unit===aL.unit&&aC.category===aL.category&&aL.value===1){aC.value+=1}else{if(ar.length<C){ar.push(aL)}else{++D}}++af;if(s){s()}}else{++aj}return{status:av}},ap=function(aG,aF,aD,aC){var aE=ar.length;o(aG,aF,aD,aC);if(ar.length>aE){ar.unshift(ar.pop())}},c=function I(){return ar.shift()},H=function at(){return ar[0]},J=function T(){return ar.length},q=function Q(){ar=[]},L=function k(){return ar[ar.length-1]},y=function d(aC){s=aC},u=function ac(){return D},ae=function x(){return af},aB=function n(){return aj},ad=function O(aC){A=aC},ay=function(){var aG=location.pathname.replace(/\//g,"_"),aF=window.location.hash,aC,aE;if(aG[0]=="_"){aG=aG.substr(1)}if(!aG){return"_"}else{var aD=aG.indexOf("_");aG=aG.substring(aD+1)}aC=aF.match(/^#?s=(.+)/);if(aC){aE=aC[1];if(aE=="Home"){aE=""}}else{aC=aF.match(/^#?([^:]+):.*/);if(aC){aE=aC[1]}}if(aE){aG+="_"+aE}return aG},V=function h(aD,aE){var aC;if(typeof aD==="function"){aC=aD(aE)}else{aC=aD}if(aE&&!aC){aC=ay()}if(aC){aC=aC.replace(/[^a-zA-Z0-9_]/g,"")}return aC},an=function m(aE,aD,aC){o("jsError",aE,aD,aC);if(!aa){o("custJsError",1);aa=true}},aA=function M(aE,aD,aC){an(1,"MSG:"+aE+" URL:"+aD+" LN:"+aC)},F=function am(aC){if(aC.message){an(1,aC.message)}else{an(1,aC.toString())}},ag=function f(aC){U=aC},N=function P(aC){X=aC},ai=function R(){if(X){return X}if(U){return U}return""},ax=function au(){if(e===null){var aC=document.querySelector("meta[name='awsc-proxy-request-id']");if(aC){e=aC.getAttribute("content")}else{e=""}}return e};o("clogPing",1);window.onerror=function G(aF,aD,aC){aA(aF,aD,aC);for(var aE=0;aE<E.length;aE++){E[aE](aF,aD,aC)}return false};window.onerror.sbh=true;var Z=function W(aC){E.push(aC)};window.error=function j(aC){F(aC);for(var aD=0;aD<B.length;aD++){B[aD](aC)}return false};window.error.sbh=true;var b=function a(aC){B.push(aC)};window.onbeforeunload=function K(aD){s(true);var aG,aC,aF;for(var aE=0;aE<z.length;aE++){aG=z[aE](aD);aC=(typeof aD.returnValue==="string"&&aD.returnValue!=="")?aD.returnValue:undefined;if(aG===undefined&&aC){aG=aC}if(aG!==undefined){aF=aG}}if(aF!==undefined){aD.returnValue=aF}return aF};window.onbeforeunload.sbh=true;var g=function l(aC){z.push(aC)};return{maxMessageSize:p,log:o,addOnErrorHandler:Z,addErrorHandler:b,addOnBeforeUnloadHandler:g,setDefaultEndpoint:ag,setEndpointOverride:N,setPageId:ad,system:{getEndpoint:ai,dequeue:c,curItem:H,onEnqueue:y,prequeue:ap,imgArgsStringLen:w,imgArgsString:aw,extractProxyRequestID:ax,getThrottledLogsCount:u,getTotalLogsCount:ae,getLogQueueSize:J,getNoKeyErrorCount:aB,clearLogQueue:q},statusCodes:{CLOG_SUCCESS:av,CLOG_ERROR_MESSAGE_TOO_LARGE:aq}}})();var AWSCLog=AWSC.Clog;if(window.AWSConsoleMetrics&&window.AWSConsoleMetrics.pageId){AWSC.Clog.setPageId(window.AWSConsoleMetrics.pageId)}(function(){var a=document.getElementById("awsc-alternate-host");if(a){AWSC.Clog.setEndpointOverride("https://"+a.content)}})();(function(){var b=document.getElementById("awsc-mezz-fb"),a=1;if(b){a=(b.content==="0"?0:1)}AWSC.Clog.log("navFb",a)})();if(!window.AWSC){var AWSC={}}if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}}AWSC.CustomEvents={customListeners:{},resetCustomListeners:function(a){if(a){this.customListeners[a]=[]}else{this.customListeners={}}},getCustomListeners:function(a){var b=this.customListeners[a];if(!b){b=[];this.customListeners[a]=b}return b},addCustomListener:function(a,b){this.getCustomListeners(a).push(b)},fireCustomEvent:function(b,a){var d=this.getCustomListeners(b);for(var c=0;c<d.length;c+=1){try{d[c].apply(null,a)}catch(f){}}}};AWSC.XhrEvents={addBeforeXhrOpenListener:function(a){AWSC.CustomEvents.addCustomListener("beforexhropen",a)},addAfterXhrDoneListener:function(a){AWSC.CustomEvents.addCustomListener("afterxhrdone",a)},fireBeforeXhrOpen:function(a){AWSC.CustomEvents.fireCustomEvent("beforexhropen",arguments)},fireAfterXhrDone:function(){AWSC.CustomEvents.fireCustomEvent("afterxhrdone",arguments)},resetXhrListeners:function(){AWSC.CustomEvents.resetCustomListeners("beforexhropen");AWSC.CustomEvents.resetCustomListeners("afterxhrdone")},init:function(){var a=XMLHttpRequest.prototype;if(!a){return}if(a.extendxhr){return}a.extendxhr=true;a.callAfterDone=function(){if(this.readyState===4){AWSXhrEvents.fireAfterXhrDone(this)}};a.originalOpen=a.open;a.open=function(){var b=this;var c=Array.prototype.slice.apply(arguments);b.urlcalled=c[1];AWSC.XhrEvents.fireBeforeXhrOpen(b);if(b.addEventListener){b.addEventListener("readystatechange",a.callAfterDone,false)}else{if(window.attachEvent){b.oldOnreadystatechange=b.onreadystatechange;b.onreadystatechange=function(){if(b.oldOnreadystatechange){var d=Array.prototype.slice.apply(arguments);b.oldOnreadystatechange.apply(b,c)}b.callAfterDone()}}}a.originalOpen.apply(b,c)}}};AWSC.XhrEvents.init();var AWSCustomEvents=AWSC.CustomEvents;var AWSXhrEvents=AWSC.XhrEvents;if(!window.AWSC){AWSC={}}AWSC.Timer=(function(){var B={},q=window.AWSC.XhrEvents,b={},f=true,c=0,E=0,v=100,y=false,z=false,F,l,u={},G={},i={},H=function(){},j;if(window.performance){j=window.performance.timing}else{j={}}var t={navigationStart:j.navigationStart,unloadEventStart:j.unloadEventStart,unloadEventEnd:j.unloadEventEnd,redirectStart:j.redirectStart,redirectEnd:j.redirectEnd,fetchStart:j.fetchStart,domainLookupStart:j.domainLookupStart,domainLookupEnd:j.domainLookupEnd,connectStart:j.connectStart,connectEnd:j.connectEnd,secureConnectionStart:j.secureConnectionStart,requestStart:j.requestStart,responseStart:j.responseStart,responseEnd:j.responseEnd,domLoading:j.domLoading,domInteractive:j.domInteractive,domContentLoadedEventStart:j.domContentLoadedEventStart,domContentLoadedEventEnd:j.domContentLoadedEventEnd,domComplete:j.domComplete,loadEventStart:j.loadEventStart,loadEventEnd:j.loadEventEnd,redirectCount:j.redirectCount};if(window.AWSC.Clog&&AWSC.Clog.log){F=AWSC.Clog.log}else{F=H}var C=Date.now?Date.now:function(){return new Date().getTime()};if(window.performance){B.clickTime=window.performance.timing.navigationStart;B.startTime=window.performance.timing.responseStart}else{if(window.AWSConsoleMetrics){B=window.AWSConsoleMetrics}}var s=1406876400000;if(!B.startTime||B.startTime<s){B.startTime=C();B.clickTime=0;l=1}else{l=0}F("fst",l);AWSC.startTime=B.startTime;AWSC.clickTime=B.clickTime;var g=function(O,M,N){F(M,N,"","","ms",O)};var m=function(M,N){g("pageload",M,N-B.startTime)};m("initialLoad",C());var I=function(M,N){if(B.clickTime!=0){g("pageload",M,N-B.clickTime)}};var J=function(M,N){g("custom",M,N)};var d=function(M){b[M]=C()};var r=function(M){var O=C(),N=b[M];if(N){delete b[M];J(M,O-N)}};var w=function(M){delete b[M]};var e=function(M,N){J(M,parseInt(N,10))};var L=function(M){if(typeof M!=="object"){throw new Error("Invalid argument.")}if(!M.hasOwnProperty("metricName")){throw new Error("Must have a metricName in the argument object")}var N=M.metricName;if(!M.hasOwnProperty("events")||(M.events.length<1)){throw new Error('setMetricEvents requires at least one event in "events" array')}var P=M.events;if(N in G){throw new Error(N+" events may not be set more than once per page load")}i[N]=false;if(M.startTime==="click"){if(B.clickTime!==0){i[N]=true}else{delete i[N];return}}G[N]=true;u[N]={};for(var O=0;O<P.length;O++){u[N][P[O]]=false}};var x=function(M){if(u.hasOwnProperty(M)){for(var N in u[M]){if(u[M][N]===false){return false}}return true}};var a=function(M){var O=C();if(M&&u){for(var N in u){if(u[N].hasOwnProperty(M)){if(u[N][M]===false){u[N][M]=true;if(x(N)){if(i[N]){I(N,O)}else{m(N,O)}if(N==="customerReady"){z=true}delete u[N];delete i[N]}}}}}};var K=function(N,M){L({metricName:"customerReady",events:N});L({metricName:"clickToCustomerReady",startTime:"click",events:N})};var o=function(M){if(M){a(M)}else{if(!z){z=true;var N=C();m("customerReady",N);m("customerReadyPageTransition",N);I("clickToCustomerReady",N)}else{r("pageTransition");r("customerReadyPageTransition")}}};var D=function(N){if(!N.urlcalled){return false}var M=/feedback\/custsat\/1\/popquestion/;return M.test(N.urlcalled)};var h=function(M){if(!D(M)){c++;if(f){f=false;m("pageReady",C())}}};var k=function(N){if(!D(N)){var M;c--;if(c===0){M=C();E=M;setTimeout(function(){p(M)},v)}}};var p=function(M){if(c===0&&M===E&&!y){g("pageload","loadFinished",E-B.startTime);A();y=true}};var A=function A(){if(!window.performance){return}var N=j.navigationStart;for(var M in t){if(t.hasOwnProperty(M)){if(t[M]){F(M,t[M]-N,"","","ms")}else{setTimeout(function(){if(t[M]){F(M,t[M]-N,"","","ms")}},2000)}}}};var n=function(){d("pageTransition");d("customerReadyPageTransition")};q.addBeforeXhrOpenListener(h);q.addAfterXhrDoneListener(k);window.addEventListener("hashchange",n);return{start:d,stop:r,submitCustomTimer:e,discardTimer:w,isInitialLoadPending:false,metricEvent:a,setMetricEvents:L,customerReady:o,hasPageTransition:true,setCustomerReadyEvents:K,initialLoadFlag:false}})();var metricsTimer=AWSC.Timer;(function(){if(AWSC.XhrEvents&&AWSC.Clog){var a=function a(c){c.startTime=new Date().getTime()},b=function b(d){var c=(new Date().getTime())-d.startTime;AWSC.Clog.log({key:"ajaxStatus"+d.status,value:c,unit:"ms"})};AWSC.XhrEvents.addBeforeXhrOpenListener(a);AWSC.XhrEvents.addAfterXhrDoneListener(b)}})();